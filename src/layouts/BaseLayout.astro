---
import '../styles/global.css';

interface Props {
  title?: string;
}

const { title = 'Anaël & Eric — Mariage' } = Astro.props;
const baseUrl = import.meta.env.BASE_URL;
---

<html lang="fr" dir="ltr">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#F7F0E4" />
    <link rel="icon" type="image/svg+xml" href={`${baseUrl}favicon.svg`} />

    <!-- Font preloads -->
    <link rel="preload" href={`${baseUrl}fonts/playfair-display-latin.woff2`} as="font" type="font/woff2" crossorigin />
    <link rel="preload" href={`${baseUrl}fonts/dm-sans-400-latin.woff2`} as="font" type="font/woff2" crossorigin />
    <link rel="preload" href={`${baseUrl}fonts/frank-ruhl-libre-400-hebrew.woff2`} as="font" type="font/woff2" crossorigin />

    <!-- CSP -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'; font-src 'self'; connect-src 'self' https://script.google.com https://script.googleusercontent.com; img-src 'self' data:" />

    <!-- OG tags for WhatsApp -->
    <meta property="og:title" content="Anaël & Eric — Mariage" />
    <meta property="og:description" content="18-20 octobre 2026, Tel Aviv" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://elmagow.github.io/sitemariage/" />

    <meta name="generator" content={Astro.generator} />
    <title>{title}</title>
  </head>
  <body class="min-h-screen bg-background text-foreground font-body antialiased touch-manipulation">
    <a href="#main-content" class="sr-only focus-visible:not-sr-only focus-visible:absolute focus-visible:z-[100] focus-visible:bg-primary focus-visible:text-primary-foreground focus-visible:p-3 focus-visible:rounded-md" data-i18n="a11y.skip_to_content">
      Aller au contenu
    </a>
    <div id="lang-announce" aria-live="polite" class="sr-only"></div>
    <slot />
    <script>
      import '@/i18n/i18n-global';
    </script>
  </body>
</html>
